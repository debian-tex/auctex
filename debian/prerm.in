#include "variables"
#!/bin/bash -e
#
# postinst configuration file for Debian <:=${PACKAGE}:> package.
# $Id: prerm.in,v 1.10 2005/01/15 11:41:09 salve Exp $
#
<:=@COPYRIGHT:>//

set -o posix

case "${1}" in
    (deconfigure)
    <:# deconfigure in-favour ${3:newpkg} ${4:newver} removing ${6:oldpkg} ${7:oldver}:>//
    <:# remove emacs startup file if present:>//
    : ;;
    (remove|upgrade)
    <:# remove
      # (or, in case of conflict with newpkg)
      # remove in-favour ${3:newpkg} ${4:newver}:>//
    <:# upgrade ${2:newver}:>//
    <:# remove info menu from info dir:>//
    <:=${IREMOVE}:> <:="${info}/${PACKAGE}.info.gz":>
    <:# remove doc menu from doc dir:>//
    <:=${DREMOVE}:> <:=${PACKAGE}:>
    <:# remove byte compiled elisp:>//
    <:=${EREMOVE}:> <:=${PACKAGE}:> ;;
    (failed-upgrade)
    <:# failed-upgrade ${2:oldver}
      # (fix old prerm from version ${2} bugs here):>//
    : ;;
    (*) echo >&2 "${0##*/}: Called with unknown argument \`${1}'." ;;
esac

exit 0
<:
# Local Variables:
# mode: shell-script
# End:
:>//
