#include "variables"
#!/bin/bash -e
#
# Update AucTeX auto-loads.
# Installed by the Debian <:=$PACKAGE:> package.
# $Id: update-auctex-elisp.in,v 1.6 2000/10/20 00:27:54 salve Exp $
#
<:=@COPYRIGHT:>//

set -o posix

<:# only GNU/Emacs, 'cause XEmacs comes with its own AUC TeX.:>//
# We don't support emacs19 anymore (only emacs20), but let's leave it as it is.
for FLAVOR in emacs20; do
    if [ -x /usr/bin/$FLAVOR ]; then
	$FLAVOR --no-site-file --no-init-file --batch \
	        --load=/usr/share/emacs/site-lisp/tex-site.el \
                --funcall=TeX-auto-generate-global
    fi
done

<:# Mule2 add hoc rule.:>//
if [ -x /usr/bin/mule2 ]; then
    mule2 --no-site-file --no-init-file --batch \
	  --load=/usr/share/emacs/site-lisp/tex-site.el \
          --eval '(set-file-coding-system-for-read *iso-2022-int-1*)' \
          --funcall=TeX-auto-generate-global
fi

<:# better to remove .el files now that .elc have done:>//
rm -f $(find <:=$var:> -type f -name \*.el)
<:
# Local Variables:
# mode: shell-script
# End:
:>//
