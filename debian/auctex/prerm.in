#include "variables"
#! /bin/bash -e
#
# <% postinst %> script for <:=${PACKAGE}:>
#
<:=@COPYRIGHT:>//

set -o posix

case "${1}" in
    (deconfigure|remove|upgrade)
    <:# remove <% info %> menu from <% info %> directory :>//
    <:=${IREMOVE}:> <:="${info}/auctex.info.gz":>
    <:=${IREMOVE}:> <:="${info}/preview-latex.info.gz":>
    <:# deregister documentation with <% doc-base %> :>//
    <:=${DREMOVE}:> auctex
    <:=${DREMOVE}:> preview-latex
    <:# emacs remove :>//
    <:=${EREMOVE}:> <:=${PACKAGE}:>
    ;;
    (failed-upgrade)
    <:# emacs install :>//
    <:=${EINSTALL}:> <:=${PACKAGE}:>
    <:# register documentation with <% doc-base %> :>//
    <:=${DINSTALL}:> <:=if($_="${docbase}/auctex")=~tr|/|/|s:>
    <:=${DINSTALL}:> <:=if($_="${docbase}/preview-latex")=~tr|/|/|s:>
    <:# install <% info %> menu into <% info %> directory :>//
    <:=IINSTALL (undef, ${AUCTEX_INFOMENU}, ${AUCTEX_INFODESC}):> \
	<:="${info}/auctex.info.gz":>
    <:=IINSTALL (undef, ${PREVIEW_INFOMENU}, ${PREVIEW_INFODESC}):> \
	<:="${info}/preview-latex.info.gz":>
    ;;
    (*) echo >&2 "${0##*/}/<:=${PACKAGE}:>:" \
	"Unknown argument: \"${1}\"."
    ;;
esac

exit 0
<:
# LocalWords:  deregister
# local variables:
# mode: shell-script
# ispell-local-dictionary: "american"
# ispell-check-comments: exclusive
# end:
# arch-tag: 06c80812-acc7-473e-8fd7-77a72bbcdb0c
:>//
